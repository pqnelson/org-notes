<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>TAOCPMAC in LaTeX</title>
<meta name="author" content="Alex Nelson" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Spectral&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Merriweather" rel="stylesheet">
<div style="display: none"> \(
\DeclareMathOperator{\tr}{tr}
\newcommand\D{\mathrm{d}}
\newcommand\E{\mathrm{e}}
\newcommand\I{\mathrm{i}}
\newcommand\bigOh{\mathcal{O}}
\newcommand{\cat}[1]{\mathbf{#1}}
\newcommand\curl{\vec{\nabla}\times}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\ZZ}{\mathbb{Z}}
% For +---- metric
\newcommand{\BDpos}{}
\newcommand{\BDneg}{-}
\newcommand{\BDposs}{\phantom{-}}
\newcommand{\BDnegg}{-}
\newcommand{\BDplus}{+}
\newcommand{\BDminus}{-}
% For -+++ metric
\newcommand{\BDpos}{-}
\newcommand{\BDposs}{-}
\newcommand{\BDneg}{}
\newcommand{\BDnegg}{\phantom{-}}
\newcommand{\BDplus}{-}
\newcommand{\BDminus}{+}
\)</div>
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="./index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">TAOCPMAC in LaTeX</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h-efc467a0-c443-4dfb-b6b3-9bb97a4612db">1. Introduction</a></li>
<li><a href="#h-26063e28-b037-428f-8b9a-fefe73f40821">2. Page Layout</a></li>
<li><a href="#h-0867aa6b-4cb8-4482-8fc7-7e427943a486">3. Chapter, Section, Subsection formatting</a>
<ul>
<li><a href="#h-bac92a12-bd8d-4ec2-b466-6f2be5224bad">3.1. LaTeX Code using Titlesec</a></li>
</ul>
</li>
<li><a href="#h-9e2d1b7e-68d0-4dc3-a7e2-38a9adee2270">4. Algorithms</a></li>
<li><a href="#h-507a9a50-3ecd-4d11-aa07-9ab084779d0e">5. MIXAL</a></li>
</ul>
</div>
</div>
<div id="outline-container-h-efc467a0-c443-4dfb-b6b3-9bb97a4612db" class="outline-2">
<h2 id="h-efc467a0-c443-4dfb-b6b3-9bb97a4612db"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-h-efc467a0-c443-4dfb-b6b3-9bb97a4612db">
<p>
This is just my translation of a bit of Knuth's <code>taocpmac.tex</code> into
LaTeX. This is no exhaustive, but it should cover a lot.
</p>

<p>
I think Knuth's style is very personal, in the sense that he came to it
after a lot of deliberation and reasoning about it. Therefore, I do not
think it "translates" well: Knuth's macros and layout are suited for his
writing style (which is idiosyncratic), and therefore does not translate
well to other writing styles.
</p>

<p>
If you want to use his macros, I would seriously urge you to
reconsider. Instead, you should consider asking yourself, "What
<i>principles</i> led him to these decisions? How can I apply those
principles to guide my typographical style?"
</p>
</div>
</div>
<div id="outline-container-h-26063e28-b037-428f-8b9a-fefe73f40821" class="outline-2">
<h2 id="h-26063e28-b037-428f-8b9a-fefe73f40821"><span class="section-number-2">2.</span> Page Layout</h2>
<div class="outline-text-2" id="text-h-26063e28-b037-428f-8b9a-fefe73f40821">
<p>
You can use either the <code>geometry</code> package, or just copy/paste what Knuth
does. The textwidth is 29pc, the textheight is 45pc.
</p>

<p>
The paper dimensions are given by the <code>\htrimsize</code> and <code>\vtrimsize</code>
dimensions (height of 9.25 inches, width of 6.375 inches).
</p>

<div class="org-src-container">
<pre class="src src-tex"><span class="org-comment-delimiter">% </span><span class="org-comment">taocpmac.tex original</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">Page layout</span>
<span class="org-keyword">\newdimen\pagewidth</span> <span class="org-keyword">\newdimen\pageheight</span> <span class="org-keyword">\newdimen\ruleht</span>
<span class="org-keyword">\hsize</span>=29pc  <span class="org-keyword">\vsize</span>=45pc  <span class="org-keyword">\maxdepth</span>=2.2pt  <span class="org-keyword">\parindent</span>=19pt
<span class="org-keyword">\pagewidth</span>=<span class="org-keyword">\hsize</span> <span class="org-keyword">\pageheight</span>=<span class="org-keyword">\vsize</span> <span class="org-keyword">\ruleht</span>=.5pt
<span class="org-keyword">\abovedisplayskip</span>=6pt plus 3pt minus 1pt
<span class="org-keyword">\belowdisplayskip</span>=6pt plus 3pt minus 1pt
<span class="org-keyword">\abovedisplayshortskip</span>=0pt plus 3pt
<span class="org-keyword">\belowdisplayshortskip</span>=4pt plus 3pt
</pre>
</div>

<p>
The easiest way to reproduce this, I think, is something like:
</p>

<div class="org-src-container">
<pre class="src src-latex"><span class="org-keyword">\usepackage</span>[pagewidth=6.375in,
  pageheight=9.25in,
  textwidth=29pc,
  textheight=45pc]{<span class="org-builtin">geometry</span>}
</pre>
</div>
</div>
</div>
<div id="outline-container-h-0867aa6b-4cb8-4482-8fc7-7e427943a486" class="outline-2">
<h2 id="h-0867aa6b-4cb8-4482-8fc7-7e427943a486"><span class="section-number-2">3.</span> Chapter, Section, Subsection formatting</h2>
<div class="outline-text-2" id="text-h-0867aa6b-4cb8-4482-8fc7-7e427943a486">
<p>
The tex macros for this is reproduced below:
</p>

<div class="org-src-container">
<pre class="src src-tex"><span class="org-comment-delimiter">% </span><span class="org-comment">taocpmac.tex original</span>

<span class="org-keyword">\newif\iftitle</span> <span class="org-keyword">\newif\ifdrop</span> <span class="org-keyword">\newif\ifrunon</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">titlepage</span>{<span class="org-keyword">\global\titletrue\global\droptrue</span>} <span class="org-comment">% for pages without headlines</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">lhead</span>{} <span class="org-comment">% running headline on lefthand pages (usually chapter name)</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">rhead</span>{} <span class="org-comment">% running headline on righthand pages (usually section name)</span>

  
<span class="org-comment-delimiter">% </span><span class="org-comment">line 388 et seq.</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">beginchapter</span>#1: #2.
  {<span class="org-keyword">\vfill\eject</span>
    <span class="org-keyword">\titlepage</span>
    <span class="org-keyword">\leftline</span>{<span class="org-keyword">\twelvess</span> <span class="org-keyword">\spaceskip</span>=10pt <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\kern</span>1pt}#1}
    <span class="org-keyword">\vskip</span> 4pc
    <span class="org-keyword">\rightline</span>{<span class="org-keyword">\titlefont</span> #2}
    <span class="org-keyword">\def</span><span class="org-warning">\\</span>{}
    <span class="org-keyword">\ifx\rhead\omitrhead\else</span>{<span class="org-keyword">\ninepoint\xdef\rhead</span>{<span class="org-keyword">\uppercase</span>{#2}}}<span class="org-keyword">\fi</span>
    <span class="org-keyword">\vskip</span> 2pc plus 1 pc minus 1 pc
  }

<span class="org-keyword">\def</span>\<span class="org-function-name">starred</span>{}
<span class="org-keyword">\def</span>\<span class="org-function-name">starit</span>{<span class="org-keyword">\def\starred</span>{<span class="org-keyword">\llap</span>{*}}}
<span class="org-keyword">\def</span>\<span class="org-function-name">omitrhead</span>{<span class="org-keyword">\omit</span>}

<span class="org-keyword">\def</span>\<span class="org-function-name">beginsection</span> #1. #2.
  {<span class="org-keyword">\mark</span>{<span class="org-keyword">\currentsection</span> <span class="org-keyword">\noexpand\else</span> #1}
    <span class="org-keyword">\ifrunon</span> <span class="org-keyword">\runonfalse\vskip</span> 1 cm plus 1 pc minus 5 pt
    <span class="org-keyword">\else</span> <span class="org-keyword">\vfill\eject</span>
      {<span class="org-keyword">\output</span>{<span class="org-keyword">\setbox</span>0=<span class="org-keyword">\box</span>255}<span class="org-keyword">\null\vfill\eject</span>} <span class="org-comment">% set \topmark for sure</span>
    <span class="org-keyword">\fi</span>
    <span class="org-keyword">\tenpoint</span>
    <span class="org-keyword">\leftline</span>{<span class="org-keyword">\tenssbx\starred</span>#1. <span class="org-keyword">\uppercase</span>{#2}}
    <span class="org-keyword">\def</span>\<span class="org-function-name">starred</span>{}
    <span class="org-keyword">\mark</span>{#1<span class="org-keyword">\noexpand\else</span> #1}
    <span class="org-keyword">\def</span>\<span class="org-function-name">currentsection</span>{#1}
    {<span class="org-keyword">\ninepoint\xdef\rhead</span>{<span class="org-keyword">\uppercase</span>{#2}}}
    <span class="org-keyword">\nobreak\smallskip\noindent</span>}

<span class="org-keyword">\def</span>\<span class="org-function-name">beginsectionnonumber</span> #1.
  {<span class="org-keyword">\ifrunon</span> <span class="org-keyword">\runonfalse\vskip</span> 1 cm plus 1 pc minus 5 pt
    <span class="org-keyword">\else</span> <span class="org-keyword">\vfill\eject</span> <span class="org-keyword">\fi</span>
    <span class="org-keyword">\tenpoint</span>
    <span class="org-keyword">\leftline</span>{<span class="org-keyword">\tenssbx\starred\uppercase</span>{#1}}
    <span class="org-keyword">\def</span>\<span class="org-function-name">starred</span>{}
    {<span class="org-keyword">\ninepoint\xdef\rhead</span>{<span class="org-keyword">\uppercase</span>{#1}}}
    <span class="org-keyword">\nobreak\smallskip\noindent</span>}

<span class="org-keyword">\def</span>\<span class="org-function-name">beginsubsection</span> #1. #2.
  {<span class="org-keyword">\mark</span>{<span class="org-keyword">\currentsection</span> <span class="org-keyword">\noexpand\else</span> #1}
    <span class="org-keyword">\bigbreak</span>
    <span class="org-keyword">\tenpoint</span>
    <span class="org-keyword">\leftline</span>{<span class="org-keyword">\tenssbx\starred</span>#1. #2}
    <span class="org-keyword">\def</span>\<span class="org-function-name">starred</span>{}
    <span class="org-keyword">\mark</span>{#1<span class="org-keyword">\noexpand\else</span> #1}
    <span class="org-keyword">\def</span>\<span class="org-function-name">currentsection</span>{#1}
    {<span class="org-keyword">\ninepoint\xdef\rhead</span>{<span class="org-keyword">\uppercase</span>{#2}}}
    <span class="org-keyword">\nobreak\smallskip\noindent</span>}

<span class="org-keyword">\def</span>\<span class="org-function-name">beginsubsubsection</span> #1. #2.    <span class="org-comment">% set page headers: 3.2.1.3</span>
  {<span class="org-keyword">\mark</span>{<span class="org-keyword">\currentsection</span> <span class="org-keyword">\noexpand\else</span> #1}
    <span class="org-keyword">\tenpoint</span>
    <span class="org-keyword">\bigbreak</span>
    <span class="org-keyword">\null</span>
    <span class="org-keyword">\mark</span>{#1<span class="org-keyword">\noexpand\else</span> #1}
    <span class="org-keyword">\def</span>\<span class="org-function-name">currentsection</span>{#1}
    {<span class="org-keyword">\ninepoint\xdef\rhead</span>{<span class="org-keyword">\uppercase</span>{#2}}}
    <span class="org-keyword">\nobreak\vskip</span>-<span class="org-keyword">\baselineskip</span>
    <span class="org-keyword">\noindent</span>{<span class="org-keyword">\bf</span><span class="org-bold"><span class="org-keyword">\starred</span></span><span class="org-bold">#1.</span><span class="org-bold"><span class="org-keyword">\enspace</span></span><span class="org-bold"> #2.</span><span class="org-bold"><span class="org-keyword">\xskip</span></span>}<span class="org-keyword">\def\starred</span>{}<span class="org-keyword">\ignorespaces</span>}

<span class="org-keyword">\def</span>\<span class="org-function-name">beginsubsubsectionprime</span> #1.  <span class="org-comment">% don't set page headers: 3.3.1B</span>
  {<span class="org-keyword">\medbreak</span>
    <span class="org-keyword">\null</span>
    <span class="org-keyword">\tenpoint</span>
    <span class="org-keyword">\nobreak\vskip</span>-<span class="org-keyword">\baselineskip</span>
    <span class="org-keyword">\noindent</span>{<span class="org-keyword">\bf</span><span class="org-bold"><span class="org-keyword">\starred</span></span><span class="org-bold">#1.</span><span class="org-bold"><span class="org-keyword">\xskip</span></span>}<span class="org-keyword">\def\starred</span>{}<span class="org-keyword">\ignorespaces</span>}
</pre>
</div>

<p>
A chapter has its chapter number ["CHAPTER 6"] be printed in 12-point
sans serif flushed left, in all capital letters. Then 4pc vskip below
it, flushed right, is the name of the chapter in title font (bold sans
serif, in 14.4 point size). Finally, a vskip of <code>2pc plus 1pc minus 1pc</code>
separates the body text from the chapter section title.
</p>

<p>
Almost every section in <i>The Art of Computer Programming</i> starts at the
top of a page. I don't know if this is by accident or by design, but
since it's <b>every</b> section&#x2026;that's too much to be a coincidence. (The
only exception I found was section 6.1, but I may be mistaken!)
Section formatting:
</p>
<ul class="org-ul">
<li><code>\vskip 1 cm plus 1 pc minus 5 pt</code> before printing anything (unless on
the top of the page)</li>
<li>10 bold sans serif upper case font</li>
<li><code>\thesection. #1</code> is what is printed</li>
<li><code>\smallskip</code> afterwards, with no indent</li>
</ul>

<p>
Subsections have similar formatting:
</p>
<ul class="org-ul">
<li><code>\bigbreak</code> precedes the title</li>
<li>10 bold sans serif font (not upper cases)</li>
<li><code>\thesubsection. #1</code> is what is printed</li>
<li><code>\nobreak\smallskip\noindent</code> is then separating the text</li>
</ul>

<p>
Subsubsections are "runin".
</p>
<ul class="org-ul">
<li>a <code>\bigbreak</code> precedes a subsubsection</li>
<li>Then <code>\textbf{\thesubsubsection.\enspace #1.\xskip}\ignorespaces</code>
prints the subsubsection number plus its title</li>
<li>Starred subsubsections do not have subsubsection numbers printed.</li>
</ul>

<p>
There are no levels of organization below subsubsections (there are no
"subsubsubsections", or anything "smaller").
</p>
</div>
<div id="outline-container-h-bac92a12-bd8d-4ec2-b466-6f2be5224bad" class="outline-3">
<h3 id="h-bac92a12-bd8d-4ec2-b466-6f2be5224bad"><span class="section-number-3">3.1.</span> LaTeX Code using Titlesec</h3>
<div class="outline-text-3" id="text-h-bac92a12-bd8d-4ec2-b466-6f2be5224bad">
<p>
Using the <code>titlesec</code> package, we can format chapters, sections,
subsections, and subsubsections to resemble their counterparts in
<i>The Art of Computer Programming</i> as follows:
</p>

<div class="org-src-container">
<pre class="src src-latex"><span class="org-keyword">\usepackage</span>{<span class="org-builtin">titlesec</span>}
<span class="org-keyword">\font\titlefont</span>=cmssbx10 scaled<span class="org-keyword">\magstep</span>2
<span class="org-keyword">\def</span>\<span class="org-function-name">starred</span>{}
<span class="org-keyword">\def</span>\<span class="org-function-name">starit</span>{<span class="org-keyword">\def\starred</span>{<span class="org-keyword">\llap</span>{*}}}
<span class="org-keyword">\usepackage</span>{<span class="org-builtin">titlesec</span>}
<span class="org-comment-delimiter">% </span><span class="org-comment">"\large" is 12-point when the main font is 10-point</span>
<span class="org-keyword">\titleformat</span>{<span class="org-keyword">\chapter</span>}[display]
            {<span class="org-keyword">\titlefont</span>} <span class="org-comment">% format</span>
            {<span class="org-keyword">\large\sffamily\spaceskip</span>=10pt<span class="org-keyword">\MakeUppercase</span>{<span class="org-keyword">\chaptertitlename</span>} <span class="org-keyword">\thechapter</span>} <span class="org-comment">% label</span>
            {4pc} <span class="org-comment">% sep </span>
            {<span class="org-keyword">\filleft\MakeUppercase</span>} <span class="org-comment">% before</span>
<span class="org-keyword">\titleformat</span>{name=<span class="org-keyword">\chapter</span>,numberless}[display]
            {<span class="org-keyword">\titlefont</span>} <span class="org-comment">% format</span>
            {} <span class="org-comment">% label</span>
            {4pc} <span class="org-comment">% sep</span>
            {<span class="org-keyword">\filleft</span>} <span class="org-comment">% before</span>

<span class="org-comment-delimiter">% </span><span class="org-comment">Use the fact that a normal space is computed using font dimensions</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">see: https://tex.stackexchange.com/a/229642/14751</span>
<span class="org-keyword">\titleformat</span>{<span class="org-keyword">\section</span>}<span class="org-comment">%[block]</span>
            {<span class="org-keyword">\bfseries</span><span class="org-bold"><span class="org-keyword">\sffamily</span></span>} <span class="org-comment">% format</span>
            {<span class="org-keyword">\starred\thesection</span>.<span class="org-keyword">\def\starred</span>{}} <span class="org-comment">% label</span>
            {2<span class="org-keyword">\fontdimen</span>2<span class="org-keyword">\font</span> plus<span class="org-keyword">\fontdimen</span>3<span class="org-keyword">\font</span> minus<span class="org-keyword">\fontdimen</span>4<span class="org-keyword">\font</span>} <span class="org-comment">% sep</span>
            {<span class="org-keyword">\MakeUppercase</span>} <span class="org-comment">% before</span>

<span class="org-keyword">\titleformat</span>{<span class="org-keyword">\subsection</span>}<span class="org-comment">%[block]</span>
            {<span class="org-keyword">\bfseries</span><span class="org-bold"><span class="org-keyword">\sffamily</span></span>} <span class="org-comment">% format</span>
            {<span class="org-keyword">\starred\thesubsection</span>.<span class="org-keyword">\def\starred</span>{}} <span class="org-comment">% label</span>
            {2<span class="org-keyword">\fontdimen</span>2<span class="org-keyword">\font</span> plus<span class="org-keyword">\fontdimen</span>3<span class="org-keyword">\font</span> minus<span class="org-keyword">\fontdimen</span>4<span class="org-keyword">\font</span>} <span class="org-comment">% sep</span>
            {} <span class="org-comment">% before</span>

<span class="org-comment-delimiter">% </span><span class="org-comment">Runin subsubsections, with a period added (if missing)</span>
<span class="org-keyword">\makeatletter</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">@addpunct</span>#1{<span class="org-comment">%</span>
  <span class="org-keyword">\relax\ifhmode</span>
    <span class="org-keyword">\ifnum\spacefactor</span>&gt;<span class="org-keyword">\@m</span> <span class="org-keyword">\else</span>#1<span class="org-keyword">\fi</span>
  <span class="org-keyword">\fi</span>}
<span class="org-keyword">\titleformat</span>{<span class="org-keyword">\subsubsection</span>}[runin]
            {<span class="org-keyword">\normalfont\bfseries</span>} <span class="org-comment">% format</span>
            {<span class="org-keyword">\starred\thesubsubsection</span>.<span class="org-keyword">\def\starred</span>{}} <span class="org-comment">% label</span>
            {0.5em} <span class="org-comment">% sep = \enspace</span>
            {} <span class="org-comment">% before</span>
            [<span class="org-keyword">\@addpunct</span>{.}]
<span class="org-keyword">\makeatother</span>
<span class="org-keyword">\newskip\xskipamount</span>
<span class="org-keyword">\xskipamount</span>=7pt plus 3pt minus 4pt
<span class="org-keyword">\titlespacing*</span>{<span class="org-keyword">\chapter</span>}{0pt}{0pt}{2pc plus 1 pc minus 1 pc}
<span class="org-keyword">\titlespacing*</span>{<span class="org-keyword">\section</span>}{0pt}{1cm plus 1pc minus 5pt}{<span class="org-keyword">\smallskipamount</span>}
<span class="org-keyword">\titlespacing*</span>{<span class="org-keyword">\subsection</span>}{0pt}{<span class="org-keyword">\bigskipamount</span>}{<span class="org-keyword">\smallskipamount</span>}
<span class="org-keyword">\titlespacing*</span>{<span class="org-keyword">\subsubsection</span>}{0pt}{<span class="org-keyword">\bigskipamount</span>}{<span class="org-keyword">\xskipamount\ignorespaces</span>}
<span class="org-keyword">\setcounter</span>{<span class="org-variable-name">secnumdepth</span>}{3}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h-9e2d1b7e-68d0-4dc3-a7e2-38a9adee2270" class="outline-2">
<h2 id="h-9e2d1b7e-68d0-4dc3-a7e2-38a9adee2270"><span class="section-number-2">4.</span> Algorithms</h2>
<div class="outline-text-2" id="text-h-9e2d1b7e-68d0-4dc3-a7e2-38a9adee2270">
<p>
Knuth uses <code>\slug</code> as his <code>\qedsymbol</code>, so if you want to use some other
symbol&#x2026;you'll have to update these macros accordingly.
</p>

<div class="org-src-container">
<pre class="src src-latex"><span class="org-comment-delimiter">% </span><span class="org-comment">latex macros</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">These macros are borrowed from TAOCPMAC.tex</span>
<span class="org-keyword">\newcommand</span>{<span class="org-function-name">\slug</span>}{<span class="org-keyword">\hbox</span>{<span class="org-keyword">\kern</span>1.5pt<span class="org-keyword">\vrule</span> width2.5pt height6pt depth1.5pt<span class="org-keyword">\kern</span>1.5pt}}
<span class="org-keyword">\def</span>\<span class="org-function-name">xskip</span>{<span class="org-keyword">\hskip</span> 7pt plus 3pt minus 4pt}
<span class="org-keyword">\newdimen\algindent</span>
<span class="org-keyword">\newif\ifitempar</span> <span class="org-keyword">\itempartrue</span> <span class="org-comment">% normally true unless briefly set false</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">algindentset</span>#1{<span class="org-keyword">\setbox</span>0<span class="org-keyword">\hbox</span>{{<span class="org-keyword">\bf</span><span class="org-bold"> #1.</span><span class="org-bold"><span class="org-keyword">\kern</span></span><span class="org-bold">.25em</span>}}<span class="org-keyword">\algindent</span>=<span class="org-keyword">\wd</span>0<span class="org-keyword">\relax</span>}
<span class="org-keyword">\def</span>\<span class="org-function-name">algbegin</span> #1 #2{<span class="org-keyword">\algindentset</span>{#21}<span class="org-keyword">\alg</span> #1 #2} <span class="org-comment">% when steps all have 1 digit</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">aalgbegin</span> #1 #2{<span class="org-keyword">\algindentset</span>{#211}<span class="org-keyword">\alg</span> #1 #2} <span class="org-comment">% when 10 or more steps</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">alg</span>#1(#2). {<span class="org-keyword">\medbreak</span> <span class="org-comment">% Usage: \algbegin Algorithm A (algname). This...</span>
  <span class="org-keyword">\noindent</span>{<span class="org-keyword">\bf</span><span class="org-bold">#1</span>}({<span class="org-keyword">\it</span><span class="org-italic">#2</span><span class="org-italic"><span class="org-keyword">\/</span></span>}).<span class="org-keyword">\xskip\ignorespaces</span>}
<span class="org-keyword">\def</span>\<span class="org-function-name">algstep</span>#1.{<span class="org-keyword">\ifitempar\smallskip\noindent\else\itempartrue</span>
  <span class="org-keyword">\hskip</span>-<span class="org-keyword">\parindent\fi</span>
  <span class="org-keyword">\hbox</span> to<span class="org-keyword">\algindent</span>{<span class="org-keyword">\bf</span><span class="org-bold"><span class="org-keyword">\hfil</span></span><span class="org-bold"> #1.</span><span class="org-bold"><span class="org-keyword">\kern</span></span><span class="org-bold">.25em</span>}<span class="org-comment">%</span>
  <span class="org-keyword">\hangindent</span>=<span class="org-keyword">\algindent\hangafter</span>=1<span class="org-keyword">\ignorespaces</span>}
<span class="org-comment-delimiter">% </span><span class="org-comment">end of borrowed macros</span>

<span class="org-comment-delimiter">% </span><span class="org-comment">For Example, with less than 10 steps:</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">\algbegin X (Multiplication). blah blah blah blah...</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">\algstep X1. [{\it Do stuff\/}] blah blah blah</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">\algstep X2. Terminate the algorithm.\quad\slug</span>
</pre>
</div>

<p>
Note that Knuth's only control structure is really jumping to other
steps in the algorithm. It appears to me that the role algorithms play
in TAOCP is little more than extended commentary on the MIXAL programs
found in it.
</p>
</div>
</div>
<div id="outline-container-h-507a9a50-3ecd-4d11-aa07-9ab084779d0e" class="outline-2">
<h2 id="h-507a9a50-3ecd-4d11-aa07-9ab084779d0e"><span class="section-number-2">5.</span> MIXAL</h2>
<div class="outline-text-2" id="text-h-507a9a50-3ecd-4d11-aa07-9ab084779d0e">
<p>
The assembly code printed in the book is formatted using the <code>\mixtwo</code>,
<code>\mixthree</code>, <code>\mixfour</code>, &#x2026;, <code>\mixsix</code> macros. These are plain TeX
tables, so the columns are separated by <code>&amp;</code> and the end of line needs a
<code>\cr</code> macro.
</p>

<p>
If I knew the LaTeX <code>\begin{list}...\end{list}</code> environment better, I
might try translating it. I'm nervous about just translating this as a
<code>tabular</code>, because I don't understand it's underlying mechanics well
enough. But you could imagine something like a <code>\begin{mixal}[4]...\end{mixal}</code>
environment taking an optional parameter for the number of columns,
which would be nice.
</p>

<p>
A few explicit notes worth mentioning:
</p>

<ul class="org-ul">
<li><code>\underspecial</code> is used to underline comments referencing steps in an
associated algorithm; Knuth breaks the underlining when there is a
"descender" (like the curly part of a lowercase "g" or "j" or "y")</li>
<li><code>\small</code> is approximately LaTeX counterpart of <code>\ninepoint</code></li>
<li><code>\mc</code> is for medium caps (as opposed to <code>\sc</code>), and I honestly don't
know why <code>\mc</code> is used for these logos instead of <code>\sc</code> or anything
else (but after working with Times New Roman font for a while, <code>\mc</code>
formatting of FORTRAN looks much nicer than <code>\textsc{Fortran}</code>&#x2026;);</li>
<li>I have had great difficulty getting these macros to work nicely with
page breaks in LaTeX, but perhaps I'm just an idiot</li>
</ul>

<div class="org-src-container">
<pre class="src src-tex"><span class="org-comment-delimiter">% </span><span class="org-comment">taocpmac.tex lines 876 et seq.</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">CEE</span>/{{<span class="org-keyword">\mc</span> C<span class="org-keyword">\spacefactor</span>1000}}<span class="org-comment">% the C programming language</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">FORTRAN</span>/{{<span class="org-keyword">\mc</span> FORTRAN<span class="org-keyword">\spacefactor</span>1000}}<span class="org-comment">% ditto for the older guy</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">ALGOL</span>/{{<span class="org-keyword">\mc</span> ALGOL<span class="org-keyword">\spacefactor</span>1000}}
<span class="org-keyword">\def</span>\<span class="org-function-name">COBOL</span>/{{<span class="org-keyword">\mc</span> COBOL<span class="org-keyword">\spacefactor</span>1000}}
<span class="org-keyword">\def</span>\<span class="org-function-name">MIX</span>{{<span class="org-keyword">\tt</span> MIX<span class="org-keyword">\spacefactor</span>1000}}
<span class="org-keyword">\def</span>\<span class="org-function-name">MMIX</span>{{<span class="org-keyword">\tt</span> MMIX<span class="org-keyword">\spacefactor</span>1000}}
<span class="org-keyword">\def</span>\<span class="org-function-name">mm</span>{<span class="org-keyword">\kern</span>-.2em<span class="org-keyword">\'</span>{}<span class="org-keyword">\kern</span>-.1em} <span class="org-comment">% modifies a section number, for MMIX changes</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">rA</span>{<span class="org-keyword">\hbox</span>{<span class="org-keyword">\rm</span> rA}}
<span class="org-keyword">\def</span>\<span class="org-function-name">rX</span>{<span class="org-keyword">\hbox</span>{<span class="org-keyword">\rm</span> rX}}
<span class="org-keyword">\def</span>\<span class="org-function-name">rAX</span>{<span class="org-keyword">\hbox</span>{<span class="org-keyword">\rm</span> rAX}}
<span class="org-keyword">\def</span>\<span class="org-function-name">rI</span>{<span class="org-keyword">\hbox</span>{<span class="org-keyword">\rm</span> rI}}
<span class="org-keyword">\def</span>\<span class="org-function-name">rJ</span>{<span class="org-keyword">\hbox</span>{<span class="org-keyword">\rm</span> rJ}}

<span class="org-comment-delimiter">% </span><span class="org-comment">to typeset assembly code, use:</span>
<span class="org-comment-delimiter">%  </span><span class="org-comment">\mixtwo   for opcode and address</span>
<span class="org-comment-delimiter">%  </span><span class="org-comment">\mixthree for location, opcode, and address</span>
<span class="org-comment-delimiter">%  </span><span class="org-comment">\mixfour  for line number, location, opcode, and address</span>
<span class="org-comment-delimiter">%  </span><span class="org-comment">\mixfive  for line number, location, opcode, address, count</span>
<span class="org-comment-delimiter">%  </span><span class="org-comment">\mixsix  for line number, location, opcode, address, count, squeezed tight</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">(all variations allow optional comments at end of the line)</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">put \\ after \cr to indicate a logical page break</span>
<span class="org-comment-delimiter">% </span><span class="org-comment">and end the whole thing with \endmix</span>

<span class="org-comment-delimiter">% </span><span class="org-comment">Say \let\ninepoint=\flexninepoint to allow slight baselineskip variations</span>

<span class="org-keyword">\def</span>\<span class="org-function-name">sdol</span>{<span class="org-keyword">\global\catcode</span>`<span class="org-keyword">\$</span>=12 <span class="org-keyword">\global\catcode</span>`<span class="org-keyword">\#</span>=12}
<span class="org-keyword">\def</span>\<span class="org-function-name">ndol</span>{<span class="org-keyword">\global\catcode</span>`<span class="org-keyword">\$</span>=3  <span class="org-keyword">\global\catcode</span>`<span class="org-keyword">\#</span>=6}
<span class="org-keyword">\def</span>\<span class="org-function-name">specialunder</span>{<span class="org-keyword">\ifmmode\def\next</span>{_}<span class="org-keyword">\else\chardef\next</span>=`<span class="org-keyword">\_\fi\next</span>}
{<span class="org-keyword">\catcode</span>`<span class="org-keyword">\_</span>=<span class="org-keyword">\active</span>
  <span class="org-keyword">\gdef\underspecial</span>{<span class="org-keyword">\catcode</span>`<span class="org-keyword">\_\active</span> <span class="org-keyword">\global\let</span>_=<span class="org-keyword">\specialunder</span>}}
<span class="org-keyword">\def</span>\<span class="org-function-name">mixtwo</span>{<span class="org-keyword">\begingroup\let\ttt</span>=<span class="org-keyword">\tt</span> <span class="org-keyword">\ninepoint</span>
  <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\noalign</span>{<span class="org-keyword">\penalty</span>-200}}
  <span class="org-keyword">\halign\bgroup</span>
          <span class="org-keyword">\ttt\hbox</span> to 2.5em{##<span class="org-keyword">\hfil</span>}&amp; <span class="org-comment">% op</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad</span>&amp;            <span class="org-comment">% address</span>
          <span class="org-keyword">\rm</span>##<span class="org-keyword">\hfil\cr</span>}               <span class="org-comment">% comment</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">mmixtwo</span>{<span class="org-keyword">\begingroup\let\ttt</span>=<span class="org-keyword">\tt\ninepoint</span> <span class="org-keyword">\underspecial</span>
  <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\noalign</span>{<span class="org-keyword">\penalty</span>-200}}
  <span class="org-keyword">\halign\bgroup</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad\sdol</span>&amp;       <span class="org-comment">% op</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad\ndol</span>&amp;       <span class="org-comment">% expr</span>
          <span class="org-keyword">\rm</span>##<span class="org-keyword">\hfil\cr</span>}               <span class="org-comment">% comment</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">mixthree</span>{<span class="org-keyword">\begingroup\let\ttt</span>=<span class="org-keyword">\tt\ninepoint</span>
  <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\noalign</span>{<span class="org-keyword">\penalty</span>-200}}
  <span class="org-keyword">\halign\bgroup</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\enspace\hfil</span>&amp;         <span class="org-comment">% loc</span>
          <span class="org-keyword">\ttt\hbox</span> to 2.5em{##<span class="org-keyword">\hfil</span>}&amp; <span class="org-comment">% op</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad</span>&amp;            <span class="org-comment">% address</span>
          <span class="org-keyword">\rm</span>##<span class="org-keyword">\hfil\cr</span>}               <span class="org-comment">% comment</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">mmixthree</span>{<span class="org-keyword">\begingroup\let\ttt</span>=<span class="org-keyword">\tt\ninepoint</span>
  <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\noalign</span>{<span class="org-keyword">\penalty</span>-200}}
  <span class="org-keyword">\halign\bgroup</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\enspace\hfil</span>&amp;         <span class="org-comment">% label</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil</span>\ <span class="org-keyword">\sdol</span>&amp;          <span class="org-comment">% op</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad\ndol</span>&amp;       <span class="org-comment">% expr</span>
          <span class="org-keyword">\rm</span>##<span class="org-keyword">\hfil\cr</span>}               <span class="org-comment">% comment</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">mixfour</span>{<span class="org-keyword">\begingroup\let\ttt</span>=<span class="org-keyword">\tt\ninepoint</span>
  <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\noalign</span>{<span class="org-keyword">\penalty</span>-200}}
  <span class="org-keyword">\halign\bgroup</span>
          <span class="org-keyword">\hfil\it</span><span class="org-italic">##</span><span class="org-italic"><span class="org-keyword">\quad</span></span>&amp;             <span class="org-comment">% line</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\enspace\hfil</span>&amp;         <span class="org-comment">% loc</span>
          <span class="org-keyword">\ttt\hbox</span> to 2.5em{##<span class="org-keyword">\hfil</span>}&amp; <span class="org-comment">% op</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad</span>&amp;            <span class="org-comment">% address</span>
          <span class="org-keyword">\rm</span>##<span class="org-keyword">\hfil\cr</span>}               <span class="org-comment">% comment</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">mmixfour</span>{<span class="org-keyword">\begingroup\let\ttt</span>=<span class="org-keyword">\tt\ninepoint</span> <span class="org-keyword">\underspecial</span>
  <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\noalign</span>{<span class="org-keyword">\penalty</span>-200}}
  <span class="org-keyword">\halign\bgroup</span>
          <span class="org-keyword">\hfil\it</span><span class="org-italic">##</span><span class="org-italic"><span class="org-keyword">\quad\sdol</span></span>&amp;        <span class="org-comment">% line</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\enspace\hfil</span>&amp;         <span class="org-comment">% label</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\enspace</span>&amp;         <span class="org-comment">% op</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad\ndol</span>&amp;       <span class="org-comment">% expr</span>
          <span class="org-keyword">\rm</span>##<span class="org-keyword">\hfil\cr</span>}               <span class="org-comment">% comment</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">mixfive</span>{<span class="org-keyword">\begingroup\let\ttt</span>=<span class="org-keyword">\tt\ninepoint</span>
  <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\noalign</span>{<span class="org-keyword">\penalty</span>-200}}
  <span class="org-keyword">\halign\bgroup</span>
          <span class="org-keyword">\hfil\it</span><span class="org-italic">##</span><span class="org-italic"><span class="org-keyword">\quad</span></span>&amp;             <span class="org-comment">% line</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\enspace\hfil</span>&amp;         <span class="org-comment">% loc</span>
          <span class="org-keyword">\ttt\hbox</span> to 2.5em{##<span class="org-keyword">\hfil</span>}&amp; <span class="org-comment">% op</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad</span>&amp;            <span class="org-comment">% address</span>
          <span class="org-keyword">\hfil</span><span class="org-tex-math">$ ##$</span><span class="org-keyword">\hfil\quad</span>&amp;        <span class="org-comment">% frequency count</span>
          <span class="org-keyword">\rm</span>##<span class="org-keyword">\hfil\cr</span>}               <span class="org-comment">% comment</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">mmixfive</span>{<span class="org-keyword">\begingroup\let\ttt</span>=<span class="org-keyword">\tt\ninepoint</span> <span class="org-keyword">\underspecial</span>
  <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\noalign</span>{<span class="org-keyword">\penalty</span>-200}}
  <span class="org-keyword">\halign\bgroup</span>
          <span class="org-keyword">\hfil\it</span><span class="org-italic">##</span><span class="org-italic"><span class="org-keyword">\quad\sdol</span></span>&amp;        <span class="org-comment">% line</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\enspace\hfil</span>&amp;         <span class="org-comment">% label</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\enspace</span>&amp;         <span class="org-comment">% op</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad\ndol</span>&amp;       <span class="org-comment">% expr</span>
          <span class="org-keyword">\hfil</span><span class="org-tex-math">$ ##$</span><span class="org-keyword">\hfil\quad</span>&amp;        <span class="org-comment">% frequency count</span>
          <span class="org-keyword">\rm</span>##<span class="org-keyword">\hfil\cr</span>}               <span class="org-comment">% comment</span>
<span class="org-keyword">\newdimen\mixsqueeze</span> <span class="org-comment">% set this before each use of \mixsix</span>
<span class="org-keyword">\def</span>\<span class="org-function-name">mixsix</span>{<span class="org-keyword">\begingroup\let\ttt</span>=<span class="org-keyword">\tt\ninepoint</span> <span class="org-comment">%last field is flush right</span>
  <span class="org-keyword">\def</span><span class="org-warning">\\</span>{<span class="org-keyword">\noalign</span>{<span class="org-keyword">\penalty</span>-200}}
  <span class="org-keyword">\halign</span> to <span class="org-keyword">\hsize\bgroup</span>
          <span class="org-keyword">\hfil\it</span><span class="org-italic">##</span><span class="org-italic"><span class="org-keyword">\quad</span></span>&amp;             <span class="org-comment">% line</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\enspace\hfil</span>&amp;         <span class="org-comment">% loc</span>
          <span class="org-keyword">\ttt\hbox</span> to 2.5em{##<span class="org-keyword">\hfil</span>}&amp; <span class="org-comment">% op</span>
          <span class="org-keyword">\ttt</span>##<span class="org-keyword">\hfil\quad</span>&amp;            <span class="org-comment">% address</span>
          <span class="org-keyword">\hskip</span>-<span class="org-keyword">\mixsqueeze</span>
          <span class="org-keyword">\hfil</span><span class="org-tex-math">$ ##$</span><span class="org-keyword">\hfil\quad</span>&amp;        <span class="org-comment">% frequency count</span>
          <span class="org-keyword">\rm</span>##<span class="org-keyword">\hidewidth\tabskip</span> 0pt plus 1fil&amp; <span class="org-comment">% comment</span>
          <span class="org-keyword">\medmuskip</span> 1mu <span class="org-keyword">\relax</span> <span class="org-keyword">\thickmuskip</span> 3mu <span class="org-keyword">\relax</span>
          <span class="org-keyword">\hfil</span>##<span class="org-keyword">\tabskip</span>0pt<span class="org-keyword">\cr</span>}
<span class="org-keyword">\def</span>\<span class="org-function-name">endmix</span>{<span class="org-keyword">\egroup\endgroup</span>}
<span class="org-keyword">\def</span>\<span class="org-function-name">endmmix</span>{<span class="org-keyword">\egroup\endgroup</span>}
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="postamble">Last Updated: Wed, 12 Jun 2024 11:24:18 -0700
</div>
</body>
</html>
