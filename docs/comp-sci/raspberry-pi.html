<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Raspberry Pi</title>
<meta name="author" content="Alex Nelson" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Spectral&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Merriweather" rel="stylesheet">
<div style="display: none"> \(
\DeclareMathOperator{\tr}{tr}
\newcommand\D{\mathrm{d}}
\newcommand\E{\mathrm{e}}
\newcommand\I{\mathrm{i}}
\newcommand\bigOh{\mathcal{O}}
\newcommand{\cat}[1]{\mathbf{#1}}
\newcommand\curl{\vec{\nabla}\times}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\ZZ}{\mathbb{Z}}
% For +---- metric
\newcommand{\BDpos}{}
\newcommand{\BDneg}{-}
\newcommand{\BDposs}{\phantom{-}}
\newcommand{\BDnegg}{-}
\newcommand{\BDplus}{+}
\newcommand{\BDminus}{-}
% For -+++ metric
\newcommand{\BDpos}{-}
\newcommand{\BDposs}{-}
\newcommand{\BDneg}{}
\newcommand{\BDnegg}{\phantom{-}}
\newcommand{\BDplus}{-}
\newcommand{\BDminus}{+}
\)</div>
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="./index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">Raspberry Pi</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h-2139284d-7b5c-46c8-abce-c3ede3b2b67f">1. Overview</a></li>
<li><a href="#h-bd448f65-3561-4ce8-90da-580ef958cee7">2. Ssh into the Pi</a></li>
<li><a href="#h-b0d187d2-f502-4a62-9dd4-a6fd994a903a">3. Debian Infrastructure</a>
<ul>
<li><a href="#h-75c9966a-5592-4ae4-a025-80e0e6c34f6a">3.1. Optimizing for my local computer</a></li>
<li><a href="#h-4cb12e4d-ab7f-466c-b7b5-d69daec934b8">3.2. Upgrading to Bullseye</a></li>
</ul>
</li>
<li><a href="#h-c5576d86-7d9e-46e1-b3eb-d81187d6e67f">4. Installing Emacs</a>
<ul>
<li><a href="#h-505fbdb9-12a4-46d8-9daf-46229887468f">4.1. Attempting Configuration</a>
<ul>
<li><a href="#h-e2365690-7ab7-4a52-859f-efbd835309c8">4.1.1. Installation</a></li>
<li><a href="#h-a901d579-d540-41fe-a551-380de73e0cfd">4.1.2. For Emacs 28</a></li>
</ul>
</li>
<li><a href="#h-f94a466e-fdf6-40ed-a476-0f3572fc9b7c">4.2. Improving Startup Time</a>
<ul>
<li><a href="#h-8a85bb78-4f0c-4595-86f8-a7f8c304f80b">4.2.1. Emacs 28</a></li>
</ul>
</li>
<li><a href="#h-62fa7326-e681-447e-8ca0-0ff03c33e19a">4.3. Emacs 29</a></li>
<li><a href="#h-4dec9f01-2e78-470a-b632-a4a88732e175">4.4. Checking Build Flags</a></li>
</ul>
</li>
<li><a href="#h-b5a0f4e9-867a-4cc6-bfce-50c097dc09b9">5. Installing Common Lisp</a>
<ul>
<li><a href="#h-de3ba0b9-0cd1-407f-bc3b-2d4aa9c2ba88">5.1. Clozure Common Lisp</a>
<ul>
<li><a href="#h-96d3a59c-e1bb-4e11-8c10-7ccd6d9b7f5e">5.1.1. Making <code>armcl</code> global</a></li>
</ul>
</li>
<li><a href="#h-35bc094e-a63f-4ba0-9b30-6d6582bf9869">5.2. SBCL</a>
<ul>
<li><a href="#h-f0715bd5-5e1a-436a-b786-850061f4a5fd">5.2.1. Compiling SBCL Problems</a></li>
</ul>
</li>
<li><a href="#h-caf05a1b-6f16-4430-a62b-200f4c5bd753">5.3. Adding Quicklisp</a></li>
</ul>
</li>
<li><a href="#h-69ecc133-c067-40e8-a9ba-bc0589a99914">6. LaTeX</a></li>
<li><a href="#h-3b62ead8-4526-46b2-a922-92053432e1c3">7. Stumpwm</a>
<ul>
<li><a href="#h-c596939f-a681-4092-9c95-a4245ff3b73b">7.1. Dependencies</a></li>
</ul>
</li>
<li><a href="#h-a66006a4-533e-4994-be5f-307174039327">8. Window Managers</a>
<ul>
<li><a href="#h-0aed8294-f790-4e82-bf2c-5707990dd55f">8.1. TWM</a></li>
<li><a href="#h-fa7f411e-d0be-4c94-8277-87cabddb3838">8.2. FVWM</a></li>
<li><a href="#h-717e12d7-08bc-4320-a5e2-60782ef467b7">8.3. Feh wallpaper</a></li>
<li><a href="#h-42f8cb5f-78d3-4c5b-9aed-9471a4249dfa">8.4. URXVT Terminal</a></li>
</ul>
</li>
<li><a href="#h-70ef8113-f25f-4e98-96eb-f65586aa779a">9. Temperature Checking</a></li>
<li><a href="#h-547100f8-09b9-4160-ae84-9e2fea00aba5">10. Mizar</a>
<ul>
<li><a href="#h-a505070b-b824-4c80-95ff-b1e591ab49f9">10.1. Pre-built Binaries Appear Broken</a></li>
<li><a href="#h-82019e0e-1f56-4a09-bc95-295d204794be">10.2. Building it from Scratch</a></li>
</ul>
</li>
<li><a href="#h-cd1194c0-4b09-4fd9-810c-044b646f78f9">11. Run 64-bit mode</a></li>
<li><a href="#h-88c07655-f971-4a20-b7f9-3f75d70adacd">12. Other Links</a></li>
</ul>
</div>
</div>
<div id="outline-container-h-2139284d-7b5c-46c8-abce-c3ede3b2b67f" class="outline-2">
<h2 id="h-2139284d-7b5c-46c8-abce-c3ede3b2b67f"><span class="section-number-2">1.</span> Overview</h2>
<div class="outline-text-2" id="text-h-2139284d-7b5c-46c8-abce-c3ede3b2b67f">
<p>
I've got a Raspberry Pi 3 lying around, and I've been interested in
<a href="lisp/machine.html">Lisp Machines</a> for a bit. Daniel Szmulewicz wrote a <a href="https://danielsz.github.io/blog/blog_on_lisp.html">blog post</a> on treating
a Raspberry Pi as an <i>ersatz</i> Lisp Machine. Since my machine is on the
older side, and has been lying around for a while (it still runs Debian
Jessie), I thought I'd document my attempt to update it and install
Lisp tools on it.
</p>

<p>
(Apparently I have a Raspberry Pi 2.)
</p>
</div>
</div>
<div id="outline-container-h-bd448f65-3561-4ce8-90da-580ef958cee7" class="outline-2">
<h2 id="h-bd448f65-3561-4ce8-90da-580ef958cee7"><span class="section-number-2">2.</span> Ssh into the Pi</h2>
<div class="outline-text-2" id="text-h-bd448f65-3561-4ce8-90da-580ef958cee7">
<p>
We can ssh into Raspberry Pi by enabling ssh (the openssh-server seems
to be installed but not yet enabled), then we can simply do
<code>ssh &lt;user&gt;@raspberrypi.local</code> to
</p>
</div>
</div>
<div id="outline-container-h-b0d187d2-f502-4a62-9dd4-a6fd994a903a" class="outline-2">
<h2 id="h-b0d187d2-f502-4a62-9dd4-a6fd994a903a"><span class="section-number-2">3.</span> Debian Infrastructure</h2>
<div class="outline-text-2" id="text-h-b0d187d2-f502-4a62-9dd4-a6fd994a903a">
<p>
Running the update can be time-consuming. Basically I updated the
<code>/etc/apt/sources.list</code> and <code>/etc/apt/sources.list.d/raspi.list</code> to use
the stretch repositories, uninstalled a few un-needed (or unused)
packages (<code>scratch*</code>, minecraft-pi, <code>libreoffice*</code>, sonic-pi),
ran a <code>sudo apt-get update &amp;&amp; sudo apt-get upgrade -y &amp;&amp; sudo apt clean</code>
followed by a <code>sudo apt-get dist-upgrade -y &amp;&amp; sudo apt-get clean</code>.
This took a few hours.
</p>

<p>
Then I ran <code>sudo rpi-update</code> to update the firmware.
</p>
</div>
<div id="outline-container-h-75c9966a-5592-4ae4-a025-80e0e6c34f6a" class="outline-3">
<h3 id="h-75c9966a-5592-4ae4-a025-80e0e6c34f6a"><span class="section-number-3">3.1.</span> Optimizing for my local computer</h3>
<div class="outline-text-3" id="text-h-75c9966a-5592-4ae4-a025-80e0e6c34f6a">
<p>
I noticed that, for GCC, the flag <code>-Os</code> optimizes for size. Since
there's only so little room for things on the Pi, I decided to install
apt-build and these go into <code>/etc/apt/apt-build.conf</code>, then I can use
<code>sudo apt-build install ...</code> instead of apt-get.
</p>
</div>
</div>
<div id="outline-container-h-4cb12e4d-ab7f-466c-b7b5-d69daec934b8" class="outline-3">
<h3 id="h-4cb12e4d-ab7f-466c-b7b5-d69daec934b8"><span class="section-number-3">3.2.</span> Upgrading to Bullseye</h3>
<div class="outline-text-3" id="text-h-4cb12e4d-ab7f-466c-b7b5-d69daec934b8">
<p>
I didn't want to start from scratch, so I simply did the following:
</p>

<pre class="example" id="org080102e">
~$ cd /etc/apt/
/etc/apt$ sudo cp sources.list sources.list.bak
/etc/apt$ sudo nano sources.list
</pre>

<p>
Then I made <code>sources.list</code> look like (replacing all instances of
"buster" by "bullseye"):
</p>

<pre class="example" id="orgb2382be">
# sources.list
deb http://raspbian.raspberrypi.org/raspbian/ bullseye main contrib non-free rpi
</pre>

<p>
I saved it, closed nano, then ran the commands:
</p>

<pre class="example" id="org65499bc">
/etc/apt$ sudo apt update
...
/etc/apt$ sudo apt upgrade -y
...
/etc/apt$ sudo apt dist-upgrade -y
...
/etc/apt$ sudo apt autoclean
...
/etc/apt$ sudo reboot
</pre>
</div>
</div>
</div>
<div id="outline-container-h-c5576d86-7d9e-46e1-b3eb-d81187d6e67f" class="outline-2">
<h2 id="h-c5576d86-7d9e-46e1-b3eb-d81187d6e67f"><span class="section-number-2">4.</span> Installing Emacs</h2>
<div class="outline-text-2" id="text-h-c5576d86-7d9e-46e1-b3eb-d81187d6e67f">
<p>
I pulled down Emacs from the git repository:
</p>

<pre id="ex-build-emacs" class="example">
~/$ cd src
~/src/$ # for just one version without updating to another, run:
~/src/$ # git clone --depth 1 --branch emacs-27 https://git.savannah.gnu.org/git/emacs.git
~/src/$ # otherwise, run:
~/src/$ git clone https://git.savannah.gnu.org/git/emacs.git
...
~/src/$ cd emacs
~/src/emacs/$ sudo apt-get build-dep emacs
</pre>

<p>
We need to install the GNU-Autotools:
</p>

<pre id="ex-gnu-autotools" class="example">
~/src/emacs/$ sudo apt-get install autoconf automake
</pre>

<p>
We can try installing the dependencies, but will also have to install
the <code>dev</code> version of the libraries:
</p>

<pre id="ex-build-dep-emacs" class="example">
~/src/emacs/$ sudo apt-get build-dep emacs
...
~/src/emacs/$ sudo apt-get install libm17n-dev libgif-dev libxpm-dev libtiff5-dev
...
~/src/emacs/$ sudo apt-get install libpng-dev gnutls-dev texinfo libjansson-dev
...
~/src/emacs/$ sudo apt-get install build-essential libx11-dev libjpeg-dev libpng-dev libgif-dev libxaw-dev libncurses-dev libgnutls28-dev
...
</pre>

<p>
Now for the configuration
</p>

<pre id="emacs-autogen" class="example">
~/src/emacs/$ ./autogen.sh
~/src/emacs/$ ./configure --with-x-toolkit=no --with-m17n-flt --with-modules CFLAGS="-mtune=native -mcpu=native -Os -marm"
</pre>

<p>
If you configure with <code>-Ofast</code> you need to also include
<code>-fno-finite-math-only</code> too (or else when you run <code>make</code>, you'll get an
error saying Emacs won't compile with <code>-ffinite-math-only</code>).
</p>
</div>
<div id="outline-container-h-505fbdb9-12a4-46d8-9daf-46229887468f" class="outline-3">
<h3 id="h-505fbdb9-12a4-46d8-9daf-46229887468f"><span class="section-number-3">4.1.</span> Attempting Configuration</h3>
<div class="outline-text-3" id="text-h-505fbdb9-12a4-46d8-9daf-46229887468f">
<pre id="emacs-attempt-config" class="example">
~/src/emacs/$ git clean -dxf
~/src/emacs/$ ./autogen.sh
~/src/emacs/$ ./configure --with-m17n-flt --with-modules --with-json --with-threads --with-included-regex --with-compress-install CFLAGS="-Ofast -mtune=native -mcpu=native -marm"
</pre>

<p>
I also need to make sure I have <code>libncurses-dev</code> installed and,
depending on the configuration choices:
</p>

<ul class="org-ul">
<li><code>--with-x-toolkit=motif</code> requires <code>libmotif-dev</code></li>
<li><code>--with-x-toolkit=lucid</code> requires <code>libxaw7-dev</code> being installed</li>
<li><code>--with-xft</code> requires installing <code>libxft-dev</code></li>
</ul>
</div>
<div id="outline-container-h-e2365690-7ab7-4a52-859f-efbd835309c8" class="outline-4">
<h4 id="h-e2365690-7ab7-4a52-859f-efbd835309c8"><span class="section-number-4">4.1.1.</span> Installation</h4>
<div class="outline-text-4" id="text-h-e2365690-7ab7-4a52-859f-efbd835309c8">
<pre id="emacs-install" class="example">
~/src/emacs/$ make
...
~/src/emacs/$ sudo make install
...
~/src/emacs/$
</pre>
</div>
</div>
<div id="outline-container-h-a901d579-d540-41fe-a551-380de73e0cfd" class="outline-4">
<h4 id="h-a901d579-d540-41fe-a551-380de73e0cfd"><span class="section-number-4">4.1.2.</span> For Emacs 28</h4>
<div class="outline-text-4" id="text-h-a901d579-d540-41fe-a551-380de73e0cfd">
<p>
After tinkering around, Emacs 28 came out! Unfortunately, the above
commands clone exactly the <code>emacs-27</code> branch, and makes it impossible to
change to the <code>emacs-28</code> branch.
</p>

<pre id="emacs-28-config" class="example">
~/src/ $ git clone https://git.savannah.gnu.org/git/emacs.git
~/src/ $ cd emacs
~/src/emacs/ $ git checkout emacs-28
~/src/emacs/ $ sudo apt install libgccjit-10-dev libharfbuzz-dev
~/src/emacs/ $ ./configure --with-wide-int --with-x-toolkit=lucid --with-gnutls=ifavailable --with-m17n-flt --with-modules --with-json --with-threads --with-compress-install CFLAGS="-O3 -pipe -mtune=native -mcpu=native -marm"
...
~/src/emacs/ $ make
...
~/src/emacs/ $
</pre>

<p>
I wanted to include the option <code>--with-native-compilation</code> but it
creates segmentation faults. For this reason, I ended up leaving it
off. It could be some issue with the version of the library, or something.
(Note: if you are using GCC version 10, this will work. If you are using
version X, you need to install <code>libgccjit-X-dev</code>.)
</p>

<ul class="org-ul">
<li><code>wide-int</code> uses a 60-bit integer instead of a 32-bit integer</li>
<li><code>modules</code> I'm not sure what it does (something something
dynamic modules something something), but it's highly recommended</li>
<li><code>json</code> for native JSON libraries</li>
<li><code>threads</code> uses pthreads</li>
<li><code>compress-install</code></li>
<li><code>CFLAGS="-O3 -mtune=native -mcpu=native -marm"</code> for additional optimizations</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h-f94a466e-fdf6-40ed-a476-0f3572fc9b7c" class="outline-3">
<h3 id="h-f94a466e-fdf6-40ed-a476-0f3572fc9b7c"><span class="section-number-3">4.2.</span> Improving Startup Time</h3>
<div class="outline-text-3" id="text-h-f94a466e-fdf6-40ed-a476-0f3572fc9b7c">
<p>
I noticed the startup time was rather slow. The <code>(emacs-init-time)</code>
reports it took 10.46182 seconds without optimization for my default
init file. (My laptop with two Intel Core2 duos, at 2.80GHz, reports a
3.065432256 second init-time.)
</p>

<p>
Setting <code>gc-cons-threshold</code> to 10000000 improved performance by about
40%, <code>(emacs-init-time)</code> reduces to 6.671090814 seconds. Bumping it up
to 10<sup>8</sup> barely improves performance, <code>(emacs-init-time)</code> reports 6.44
seconds.
</p>

<p>
I changed all the <code>(require 'foo)</code> calls to
<code>(use-package foo :ensure t :defer t)</code>, which improved startup time by
about a couple of second (4.426073247 seconds).
</p>

<p>
This is all done with emacs compiled <code>-Os</code>; if I instead did <code>-O3</code>,
redid the byte-compilation of <code>init.el</code>, I get startup time in 3.67300
seconds. If I further compiled with <code>-Ofast</code>, I get startup time in
3.713 seconds.
</p>
</div>
<div id="outline-container-h-8a85bb78-4f0c-4595-86f8-a7f8c304f80b" class="outline-4">
<h4 id="h-8a85bb78-4f0c-4595-86f8-a7f8c304f80b"><span class="section-number-4">4.2.1.</span> Emacs 28</h4>
<div class="outline-text-4" id="text-h-8a85bb78-4f0c-4595-86f8-a7f8c304f80b">
<p>
For the configuration given above for Emacs 28, the startup is
significantly faster. With the options given, but a blank <code>.emacs</code> file,
I have <code>(emacs-init-time)</code> report <code>"1.252132 seconds"</code>.
</p>

<p>
When my <code>./.emacs</code> file just consists of <code>(load-file "~./.emacs.d/init.el")</code>,
I have <code>(emacs-init-time)</code> report <code>"1.221768 seconds"</code>.
</p>

<p>
When I byte-compile my <code>init.el</code> and my <code>./.emacs</code> file just consists of
<code>(load-file "~./.emacs.d/init.elc")</code>, I have <code>(emacs-init-time)</code> report <code>"1.157587 seconds"</code>.
</p>
</div>
</div>
</div>
<div id="outline-container-h-62fa7326-e681-447e-8ca0-0ff03c33e19a" class="outline-3">
<h3 id="h-62fa7326-e681-447e-8ca0-0ff03c33e19a"><span class="section-number-3">4.3.</span> Emacs 29</h3>
<div class="outline-text-3" id="text-h-62fa7326-e681-447e-8ca0-0ff03c33e19a">
<p>
For my Desktop, I tried:
</p>

<pre class="example" id="org3499d5a">
$ ./configure --with-wide-int --with-x-toolkit=lucid --with-gnutls=ifavailable --with-m17n-flt --with-modules --with-json --with-threads --with-compress-install "CFLAGS=-O3 -pipe -mtune=native -march=native -fno-finite-math-only"
</pre>
</div>
</div>
<div id="outline-container-h-4dec9f01-2e78-470a-b632-a4a88732e175" class="outline-3">
<h3 id="h-4dec9f01-2e78-470a-b632-a4a88732e175"><span class="section-number-3">4.4.</span> Checking Build Flags</h3>
<div class="outline-text-3" id="text-h-4dec9f01-2e78-470a-b632-a4a88732e175">
<p>
If you have Emacs already, you can check what flags you enabled when you
last ran <code>./configure</code> by examining the variable <code>system-configuration-options</code>.
</p>
</div>
</div>
</div>
<div id="outline-container-h-b5a0f4e9-867a-4cc6-bfce-50c097dc09b9" class="outline-2">
<h2 id="h-b5a0f4e9-867a-4cc6-bfce-50c097dc09b9"><span class="section-number-2">5.</span> Installing Common Lisp</h2>
<div class="outline-text-2" id="text-h-b5a0f4e9-867a-4cc6-bfce-50c097dc09b9">
<p>
I'm not sure what happened, but somehow I had SBCL 1.4 installed on my
Raspberry Pi already. I was suspicious of this, and remain so to date.
</p>
</div>
<div id="outline-container-h-de3ba0b9-0cd1-407f-bc3b-2d4aa9c2ba88" class="outline-3">
<h3 id="h-de3ba0b9-0cd1-407f-bc3b-2d4aa9c2ba88"><span class="section-number-3">5.1.</span> Clozure Common Lisp</h3>
<div class="outline-text-3" id="text-h-de3ba0b9-0cd1-407f-bc3b-2d4aa9c2ba88">
<p>
One Common Lisp compiler which emerged from the '80s was Clozure Common
Lisp. Well, it was forked from Macintosh Common Lisp, which ran on a
computer with only a few Megabytes of RAM at the time. We have similar
constraints for the Raspberry Pi today (at least, I do).
</p>

<p>
I followed Rainer's <a href="https://web.archive.org/web/20121010001720/http://lispm.dyndns.org/ccl">instructions</a> .
</p>

<pre id="building-clozure" class="example">
~/src/$ git clone https://github.com/Clozure/ccl/
...
~/src/$ cd ccl/
~/src/ccl/$ git checkout v1.12-dev.1
~/src/ccl/$ cd lisp-kernel/linuxarm
~/src/ccl/lisp-kernel/linuxarm/$ make clean; make
...
~/src/ccl/lisp-kernel/linuxarm/$ cd ../..
~/src/ccl/$ ./scripts/get-binaries linuxarm
...
~/src/ccl/$ ./armcl

? (ccl:rebuild-ccl :full t)
...
</pre>

<p>
There is a bug with <code>optimizers.lisp</code> which hangs on master branch.
It should take less than a minute to finish <code>optimizers.lisp</code>, so if
it's taking longer&#x2026;it's probably a bug. (I have found the
<code>v1.12-dev.1</code>, <code>v1.12-dev.2</code>, <code>v1.12-dev.3</code>, <code>v1.12-dev.4</code> tags are
capable of rebuilding as expected.)
</p>

<p>
The <code>armcl</code> binary is 633788 bytes initially, and the <code>armcl.image</code> is
22347792 bytes big. After rebuilding <code>v1.12-dev.1</code>, the binary is the
same size, but the <code>armcl.image</code> is 17100816 bytes (and in <code>v1.12-dev.4</code>,
17158160 bytes).
</p>
</div>
<div id="outline-container-h-96d3a59c-e1bb-4e11-8c10-7ccd6d9b7f5e" class="outline-4">
<h4 id="h-96d3a59c-e1bb-4e11-8c10-7ccd6d9b7f5e"><span class="section-number-4">5.1.1.</span> Making <code>armcl</code> global</h4>
<div class="outline-text-4" id="text-h-96d3a59c-e1bb-4e11-8c10-7ccd6d9b7f5e">
<p>
I also ran
</p>

<pre id="armcl" class="example">
~/src/$ sudo ln -s /home/alex/src/ccl/armcl /usr/local/bin/armcl
</pre>

<p>
This let me run armcl for any user.
</p>
</div>
</div>
</div>
<div id="outline-container-h-35bc094e-a63f-4ba0-9b30-6d6582bf9869" class="outline-3">
<h3 id="h-35bc094e-a63f-4ba0-9b30-6d6582bf9869"><span class="section-number-3">5.2.</span> SBCL</h3>
<div class="outline-text-3" id="text-h-35bc094e-a63f-4ba0-9b30-6d6582bf9869">
<p>
Now, Raspberry Pi offers SBCL 2.1.9, which installs without problem.
Wonderful! I don't need to stress over compiling CCL properly.
</p>
</div>
<div id="outline-container-h-f0715bd5-5e1a-436a-b786-850061f4a5fd" class="outline-4">
<h4 id="h-f0715bd5-5e1a-436a-b786-850061f4a5fd"><span class="section-number-4">5.2.1.</span> Compiling SBCL Problems</h4>
<div class="outline-text-4" id="text-h-f0715bd5-5e1a-436a-b786-850061f4a5fd">
<p>
I run into a problem compiling SBCL from the RPi package, experiencing
an error (as of git commit <code>b430f314c</code>, date Wed Apr 20 03:46:44 2022 +0300):
</p>

<pre class="example" id="org746f7ab">
~/src/sbcl $ sh make.sh
...
cc -g -Wall -Wundef -Wsign-compare -Wpointer-arith -O3 -std=gnu99 -fno-pie -I.  -c -o os-common.o os-common.c
In file included from os-common.c:24:
genesis/symbol.h: In function 'symbol_package_id':
genesis/symbol.h:44:72: warning: right shift count &gt;= width of type [-Wshift-count-overflow]
   44 | nline int symbol_package_id(struct symbol* s) { return s-&gt;name &gt;&gt; 48; }
      |                                                                ^~

In file included from os-common.c:26:
thread.h: In function 'tls_index_of':
thread.h:151:25: warning: right shift count &gt;= width of type [-Wshift-count-overflow]
  151 |   return symbol-&gt;header &gt;&gt; 32;
      |                         ^~
In file included from os-common.c:85:
sys_mmap.inc: In function 'sbcl_mmap':
sys_mmap.inc:26:27: error: 'SYS_mmap' undeclared (first use in this function); did you mean 'SYS_mmap2'?
   26 |     return (void*)syscall(SYS_mmap, addr, length, prot, flags, fd, offset);
      |                           ^~~~~~~~
      |                           SYS_mmap2
sys_mmap.inc:26:27: note: each undeclared identifier is reported only once for each function it appears in
In file included from target-os.h:32,
                 from os.h:59,
                 from globals.h:19,
                 from os-common.c:18:
os-common.c: In function 'os_context_pc':
target-arch-os.h:13:52: error: 'mcontext_t' has no member named 'pc'
   13 | #define OS_CONTEXT_PC(context) context-&gt;uc_mcontext.pc
      |                                                    ^
os-common.c:349:12: note: in expansion of macro 'OS_CONTEXT_PC'
  349 |     return OS_CONTEXT_PC(context);
      |            ^~~~~~~~~~~~~
os-common.c: In function 'set_os_context_pc':
target-arch-os.h:13:52: error: 'mcontext_t' has no member named 'pc'
   13 | #define OS_CONTEXT_PC(context) context-&gt;uc_mcontext.pc
      |                                                    ^
os-common.c:352:5: note: in expansion of macro 'OS_CONTEXT_PC'
  352 |     OS_CONTEXT_PC(context) = pc;
      |     ^~~~~~~~~~~~~
os-common.c: In function 'os_context_pc_addr':
target-arch-os.h:13:52: error: 'mcontext_t' has no member named 'pc'
   13 | #define OS_CONTEXT_PC(context) context-&gt;uc_mcontext.pc
      |                                                    ^
os-common.c:355:38: note: in expansion of macro 'OS_CONTEXT_PC'
  355 |     return (os_context_register_t*)&amp;(OS_CONTEXT_PC(context));
      |                                      ^~~~~~~~~~~~~
In file included from os-common.c:85:
sys_mmap.inc: In function 'sbcl_mmap':
sys_mmap.inc:30:1: warning: control reaches end of non-void function [-Wreturn-type]
   30 | }
      | ^
os-common.c: In function 'os_context_pc':
os-common.c:350:1: warning: control reaches end of non-void function [-Wreturn-type]
  350 | }
      | ^
os-common.c: In function 'os_context_pc_addr':
os-common.c:356:1: warning: control reaches end of non-void function [-Wreturn-type]
  356 | }
      | ^
make: *** [&lt;builtin&gt;: os-common.o] Error 1
make: Leaving directory '/home/alex/src/sbcl/src/runtime'
~/src/sbcl $
</pre>

<p>
I think this is because I have <code>arm_64bit=1</code> in my <code>/boot/config.txt</code>?
If I remove it, I run into other problems (SBCL cannot determine the
CPU architecture properly).
</p>
</div>
</div>
</div>
<div id="outline-container-h-caf05a1b-6f16-4430-a62b-200f4c5bd753" class="outline-3">
<h3 id="h-caf05a1b-6f16-4430-a62b-200f4c5bd753"><span class="section-number-3">5.3.</span> Adding Quicklisp</h3>
<div class="outline-text-3" id="text-h-caf05a1b-6f16-4430-a62b-200f4c5bd753">
<p>
We get quicklisp:
</p>

<pre id="quicklisp" class="example">
~/$ wget http://beta.quicklisp.org/quicklisp.lisp
...
~/$ armcl
? (load "quicklisp.lisp")
? (quicklisp-quickstart:install)
</pre>

<p>
Then we append to (or create) the file <code>~/.ccl-init.lisp</code> with the
following content:
</p>

<div class="org-src-container">
<pre class="src src-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">load-quicklisp</span> ()
  (<span class="org-keyword">let</span> ((quicklisp-init (merge-pathnames <span class="org-string">"quicklisp/setup.lisp"</span>
                                         (user-homedir-pathname))))
    (<span class="org-keyword">when</span> (probe-file quicklisp-init)
      (load quicklisp-init))))
</pre>
</div>

<p>
<b>CAUTION:</b> this will <i>not</i> load quicklisp by default, but require you to
call <code>(load-quicklisp)</code> when you need/want it. If you want it loaded by
default, you could just add a <code>(load-quicklisp)</code> line to the
<code>~/.ccl-init.lisp</code> file.
</p>
</div>
</div>
</div>
<div id="outline-container-h-69ecc133-c067-40e8-a9ba-bc0589a99914" class="outline-2">
<h2 id="h-69ecc133-c067-40e8-a9ba-bc0589a99914"><span class="section-number-2">6.</span> LaTeX</h2>
<div class="outline-text-2" id="text-h-69ecc133-c067-40e8-a9ba-bc0589a99914">
<ul class="org-ul">
<li>Installing <code>texlive-base</code> will install TeX, pdfTeX, cweb, metapost, and
a few other basic TeX packages.</li>
<li><code>texlive-latex-base</code> installs LaTeX</li>
</ul>
</div>
</div>
<div id="outline-container-h-3b62ead8-4526-46b2-a922-92053432e1c3" class="outline-2">
<h2 id="h-3b62ead8-4526-46b2-a922-92053432e1c3"><span class="section-number-2">7.</span> Stumpwm</h2>
<div class="outline-text-2" id="text-h-3b62ead8-4526-46b2-a922-92053432e1c3">
</div>
<div id="outline-container-h-c596939f-a681-4092-9c95-a4245ff3b73b" class="outline-3">
<h3 id="h-c596939f-a681-4092-9c95-a4245ff3b73b"><span class="section-number-3">7.1.</span> Dependencies</h3>
<div class="outline-text-3" id="text-h-c596939f-a681-4092-9c95-a4245ff3b73b">
<p>
Trying to run <code>sudo apt-get build-dep stumpwm</code> will install a number of
common lisp dependencies, which quicklisp would automatically handle.
</p>
</div>
</div>
</div>
<div id="outline-container-h-a66006a4-533e-4994-be5f-307174039327" class="outline-2">
<h2 id="h-a66006a4-533e-4994-be5f-307174039327"><span class="section-number-2">8.</span> Window Managers</h2>
<div class="outline-text-2" id="text-h-a66006a4-533e-4994-be5f-307174039327">
<p>
I may want to consider looking at other window managers (ahem, <i>window</i> shopping?).
</p>


<ul class="org-ul">
<li><a href="https://l3net.wordpress.com/2014/02/15/a-memory-comparison-of-light-linux-desktops-part-3/">A Memory Comparison of Light Linux Desktops – Part 3</a></li>
<li><a href="https://www.linuxquestions.org/questions/linux-desktop-74/memory-comparison-of-really-light-linux-wms-desktops-4175605421/">Memory Comparison of Really Light Linux WMs / Desktops</a></li>
<li><a href="https://www.reddit.com/r/unixporn/comments/4tfdzu/ram_usage_of_small_window_managers_a_comparison/">RAM Usage of small window managers - a comparison</a></li>
</ul>
</div>
<div id="outline-container-h-0aed8294-f790-4e82-bf2c-5707990dd55f" class="outline-3">
<h3 id="h-0aed8294-f790-4e82-bf2c-5707990dd55f"><span class="section-number-3">8.1.</span> TWM</h3>
<div class="outline-text-3" id="text-h-0aed8294-f790-4e82-bf2c-5707990dd55f">
<ul class="org-ul">
<li><a href="https://wiki.archlinux.org/title/twm">Arch Linux Wiki page</a></li>
<li><a href="https://opensource.com/article/19/12/twm-linux-desktop">Get back to basics with the TWM Linux desktop</a></li>
</ul>
</div>
</div>
<div id="outline-container-h-fa7f411e-d0be-4c94-8277-87cabddb3838" class="outline-3">
<h3 id="h-fa7f411e-d0be-4c94-8277-87cabddb3838"><span class="section-number-3">8.2.</span> FVWM</h3>
<div class="outline-text-3" id="text-h-fa7f411e-d0be-4c94-8277-87cabddb3838">
<p>
I have decided to install FVWM, which can be done with
<code>sudo apt-get install xserver-xorg xinit fvwm xterm</code>
</p>

<p>
Whenever I log in, I have to manually start FVWM by the command <code>startx</code>.
</p>

<p>
As far as customizing FVWM, well, I have yet to do much in that
department yet.
</p>

<ul class="org-ul">
<li><a href="https://wiki.archlinux.org/title/FVWM">Arch Linux Wiki page</a></li>
</ul>
</div>
</div>
<div id="outline-container-h-717e12d7-08bc-4320-a5e2-60782ef467b7" class="outline-3">
<h3 id="h-717e12d7-08bc-4320-a5e2-60782ef467b7"><span class="section-number-3">8.3.</span> Feh wallpaper</h3>
<div class="outline-text-3" id="text-h-717e12d7-08bc-4320-a5e2-60782ef467b7">
<p>
I am using a script
</p>
<div class="org-src-container">
<pre class="src src-bash"><span class="org-comment-delimiter">#</span><span class="org-comment">!/usr/local/bin/</span><span class="org-keyword">bash</span>

sleep 10

<span class="org-keyword">while</span> true; <span class="org-keyword">do</span>
feh --no-fehbg -F -r --bg-max -z /home/alex/Pictures/Wallpaper &amp;&amp; sleep 5 || <span class="org-keyword">exit</span>
<span class="org-keyword">done</span>
</pre>
</div>



<p>
AddToFunc InitFunction
</p>
<ul class="org-ul">
<li>I exec <i>home/alex</i>.fvwm/bg.sh</li>
</ul>

<p>
AddToFunc RestartFunction
</p>
<ul class="org-ul">
<li>I exec <i>home/alex</i>.fvwm/bg.sh</li>
</ul>
</div>
</div>
<div id="outline-container-h-42f8cb5f-78d3-4c5b-9aed-9471a4249dfa" class="outline-3">
<h3 id="h-42f8cb5f-78d3-4c5b-9aed-9471a4249dfa"><span class="section-number-3">8.4.</span> URXVT Terminal</h3>
<div class="outline-text-3" id="text-h-42f8cb5f-78d3-4c5b-9aed-9471a4249dfa">
<p>
Instead of <code>xterm</code>, one could instead install <code>rxvt-unicode</code> which is
very nift.
</p>

<ul class="org-ul">
<li><a href="https://opensource.com/article/19/10/why-use-rxvt-terminal">Why use RXVT Terminal</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h-70ef8113-f25f-4e98-96eb-f65586aa779a" class="outline-2">
<h2 id="h-70ef8113-f25f-4e98-96eb-f65586aa779a"><span class="section-number-2">9.</span> Temperature Checking</h2>
<div class="outline-text-2" id="text-h-70ef8113-f25f-4e98-96eb-f65586aa779a">
<p>
For my Raspberry Pi 2, I can check the temperature by running the
command <code>/opt/vc/bin/vcgencmd measure_temp</code>. I've stuck this into a
script:
</p>

<pre class="example" id="orge813f4b">
#!/bin/bash

# ~/temperature.sh

/opt/vc/bin/vcgencmd measure_temp
</pre>
</div>
</div>
<div id="outline-container-h-547100f8-09b9-4160-ae84-9e2fea00aba5" class="outline-2">
<h2 id="h-547100f8-09b9-4160-ae84-9e2fea00aba5"><span class="section-number-2">10.</span> Mizar</h2>
<div class="outline-text-2" id="text-h-547100f8-09b9-4160-ae84-9e2fea00aba5">
</div>
<div id="outline-container-h-a505070b-b824-4c80-95ff-b1e591ab49f9" class="outline-3">
<h3 id="h-a505070b-b824-4c80-95ff-b1e591ab49f9"><span class="section-number-3">10.1.</span> Pre-built Binaries Appear Broken</h3>
<div class="outline-text-3" id="text-h-a505070b-b824-4c80-95ff-b1e591ab49f9">
<p>
I couldn't get Mizar working on my Raspberry Pi 2, and it does not work on
Raspberry Pi 4B either. Get the latest version <a href="http://mizar.uwb.edu.pl/system/index.html#download">here</a> for Linux (ARM).
</p>

<pre class="example" id="org71636d0">
~/src/$ mkdir mizar
~/src/$ cd mizar
~/src/mizar/$ wget mizar-&lt;version&gt;-arm-linux.tar
...
~/src/mizar/$ tar -xvf mizar-...-linux.tar
...
~/src/mizar/$ sudo ./install.sh
...
</pre>

<p>
When I try running, say, <code>mizf</code> on 32-bit mode, I get errors:
</p>

<pre class="example" id="org5f7482b">
alex@raspberrypi:~/src/mizar-playground $ mizf text/char.miz
Illegal instruction
Illegal instruction
Illegal instruction
alex@raspberrypi:~/src/mizar-playground $
</pre>

<p>
In 64-bit mode, I get errors:
</p>
<pre class="example" id="orgb43e961">
alex@raspberrypi:~/src/mizar-playground $ mizf text/char
/usr/local/bin/mizf: 8: makeenv: Exec format error
/usr/local/bin/mizf: 13: errflag: Exec format error
/usr/local/bin/mizf: 14: addfmsg: Exec format erro
</pre>
</div>
</div>
<div id="outline-container-h-82019e0e-1f56-4a09-bc95-295d204794be" class="outline-3">
<h3 id="h-82019e0e-1f56-4a09-bc95-295d204794be"><span class="section-number-3">10.2.</span> Building it from Scratch</h3>
<div class="outline-text-3" id="text-h-82019e0e-1f56-4a09-bc95-295d204794be">
<p>
Fortunately, Roland Coghetto has done heroic work to make it compile on
Raspberry Pi. The basic instructions:
</p>

<p>
<b>Step 1: install Free Pascal.</b>
</p>

<pre class="example" id="org4133bfa">
alex@raspberrypi:~$ sudo apt-get update
alex@raspberrypi:~$ sudo apt-get upgrade
alex@raspberrypi:~$ sudo apt-get install fpc
</pre>

<p>
<b>Step 2: install the Mizar library.</b> We need to install the Mizar
library, and to do that we just install the latest version of the Mizar
system for, say, the Intel processor. This won't give us a workable
binaries, but it installs the MML and documentation locally.
</p>

<p>
If you tried using the pre-built binaries, then you can skip this step.
</p>

<pre class="example" id="orgd4cd3ed">
alex@raspberrypi:~ $ cd src
alex@raspberrypi:~/src $ mkdir mizar
alex@raspberrypi:~/src $ cd mizar
alex@raspberrypi:~/src/mizar $ wget http://mizar.uwb.edu.pl/~softadm/pub/system/i386-linux/mizar-8.1.12_5.72.1435-i386-linux.tar
alex@raspberrypi:~/src/mizar $ tar xvf mizar-8.1.12_5.72.1435-i386-linux.tar
alex@raspberrypi:~/src/mizar $ sudo bash install.sh

Installation of Mizar System Version 8.1.12 (Linux/FPC) (MML 5.72.1435)
 
Enter the path for installing Mizar executables
[default is /usr/local/bin]
Unpacking to /usr/local/bin
 
Enter the path for installing Mizar shared files
[default is /usr/local/share/mizar]
Unpacking to /usr/local/share/mizar
 
It may take some time...
 
Enter the path for installing Mizar documentation
[default is /usr/local/doc/mizar]
Unpacking to /usr/local/doc/mizar
 
The installation process of the Mizar system is completed.
 
Note:
The Mizar system requires a variable MIZFILES
which should be set to /usr/local/share/mizar.
 
If /usr/local/bin is not in your PATH please add it before running Mizar.
 
With questions or comments contact mus@mizar.uwb.edu.pl

alex@raspberrypi:~/src/mizar $ cd ..
alex@raspberrypi:~/src $
</pre>

<p>
<b>Step 3: download and compile the Mizar source code.</b> Now we download
Roland Coghetto's modified version of the Mizar source code (the only
changes are adding install instructions, the compile script, and
adjusting two parameters in the code) and run the following commands:
</p>

<pre class="example" id="org0cc634b">
alex@raspberrypi:~/src $ git clone https://github.com/CoghettoR/MizarSystem/
alex@raspberrypi:~/src $ cd MizarSystem
alex@raspberrypi:~/src/MizarSystem $ time sh compile_rpi.sh
alex@raspberrypi:~/src/MizarSystem $ cd bin
alex@raspberrypi:~/src/MizarSystem/bin $ sudo cp ./* /usr/local/bin/
alex@raspberrypi:~/src/MizarSystem $
</pre>

<p>
<b>Done!</b> We can have built and installed Mizar locally. Time to celebrate!
</p>
</div>
</div>
</div>
<div id="outline-container-h-cd1194c0-4b09-4fd9-810c-044b646f78f9" class="outline-2">
<h2 id="h-cd1194c0-4b09-4fd9-810c-044b646f78f9"><span class="section-number-2">11.</span> Run 64-bit mode</h2>
<div class="outline-text-2" id="text-h-cd1194c0-4b09-4fd9-810c-044b646f78f9">
<p>
To make Raspberry Pi 4 run in 64-bit mode, add the following line to the
bottom of your <code>/boot/config.txt</code>:
</p>

<pre class="example" id="org3250e2e">
arm_64bit=1
</pre>

<ul class="org-ul">
<li><a href="https://www.raspberrypi.com/documentation/computers/config_txt.html">Confix.txt documentation</a></li>
</ul>
</div>
</div>
<div id="outline-container-h-88c07655-f971-4a20-b7f9-3f75d70adacd" class="outline-2">
<h2 id="h-88c07655-f971-4a20-b7f9-3f75d70adacd"><span class="section-number-2">12.</span> Other Links</h2>
<div class="outline-text-2" id="text-h-88c07655-f971-4a20-b7f9-3f75d70adacd">
<ul class="org-ul">
<li><a href="http://informatimago.com/articles/raspberrypi/ccl-sur-qemu.html">CCL on RPi</a> (French)</li>
<li><a href="http://thisoldlisp.com/talks/els-2018/">This Old Lisp</a></li>
<li><a href="http://lispm.de/ccl">CCL on Raspberry Pi</a>, Rainer's tutorial/notes</li>
<li><a href="http://christophe.rhodes.io/notes/blog/feeds/lisp/">Christophe Rhodes on Lisp</a></li>
<li><a href="http://jacek.zlydach.pl/blog/2015-03-07-lisp-on-raspberry-pi-2-part-1-setting-up.html">Lisp on Raspberry Pi, Part 2</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="postamble">Last Updated: Tue, 5 Sep 2023 08:30:01 -0700
</div>
</body>
</html>
